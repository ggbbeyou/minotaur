<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="851" height="1108"><desc>title%20This%20is%20a%20title%0A%0Aparticipantspacing%20equal%0A%23participantspacing%20gives%20manual%20control%20of%20spacing%20between%20participants%2C%20equal%3A%20equal%20distance%20between%20all%20participants%2C%20number%20i.e.%2020.5%3A%20minimum%20space%0A%0Aactor%20Client%23lightgreen%0A%23supported%20participant%20types%3A%20participant%2C%20actor%2C%20boundary%2C%20control%2C%20entity%2C%20database%0A%0Aparticipantgroup%20%23lightgreen%20Minotaur%20Server%0Aparticipant%20Server%0Aparticipant%20Shunt%0Aabox%20left%20of%20Shunt%3A%20System%20%E6%B6%88%E6%81%AF%E5%B0%86%E5%85%A8%E5%B1%80%E5%8D%95%E7%BA%BF%E7%A8%8B%E6%89%A7%E8%A1%8C%EF%BC%8CShunt%20%E6%B6%88%E6%81%AF%E5%B0%86%E4%BC%9A%5Cn%E5%9C%A8%E8%BF%9E%E6%8E%A5%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E5%88%86%E6%B5%81%E6%B8%A0%E9%81%93%E5%86%85%E6%89%A7%E8%A1%8C%E3%80%82%E7%9B%B8%E5%90%8C%E5%88%86%E6%B5%81%E6%B8%A0%E9%81%93%E7%9A%84%5Cn%E6%B6%88%E6%81%AF%E5%B0%86%E4%B8%B2%E8%A1%8C%E5%A4%84%E7%90%86%EF%BC%8C%E4%B8%8D%E5%90%8C%E5%88%86%E6%B5%81%E6%B8%A0%E9%81%93%E6%B6%88%E6%81%AF%E5%B9%B6%E8%A1%8C%E5%A4%84%E7%90%86%E3%80%82%5Cn%5Cn%E8%BF%9E%E6%8E%A5%E5%8F%AF%E6%A0%B9%E6%8D%AE%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF%E7%81%B5%E6%B4%BB%E7%9A%84%E9%80%9A%E8%BF%87%20srv.UseShunt%20%E6%9D%A5%5Cn%E5%88%87%E6%8D%A2%E5%BD%93%E5%89%8D%E6%89%80%E5%A4%84%E7%9A%84%E5%88%86%E6%B5%81%E6%B8%A0%E9%81%93%0Aabox%20left%20of%20Shunt%3A%20%E5%BC%82%E6%AD%A5%E6%B6%88%E6%81%AF%5Cn%5Cn(SystemMessage)%20srv.PushAsyncMessage%5Cn(ShuntMessage)%20srv.PushShuntAsyncMessage%5Cn(SystemMessage)%20srv.PushUniqueAsyncMessage%5Cn(ShuntMessage)%20srv.PushUniqueShuntAsyncMessage%5Cn%5Cn%20Unique%20%E6%B6%88%E6%81%AF%E5%B0%86%E4%BC%9A%E5%9C%A8%E4%B8%8A%E4%B8%80%E4%B8%AA%E7%9B%B8%E5%90%8C%E6%B6%88%E6%81%AF%E6%9C%AA%E6%89%A7%E8%A1%8C%E5%AE%8C%E6%AF%95%5Cn%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%E5%BF%BD%E7%95%A5%E5%90%8E%E7%BB%AD%E6%B6%88%E6%81%AF%0Aend%0A%0AClient-%3EServer%3A%E9%80%9A%E8%BF%87%20WebSocket%E3%80%81TCP%E3%80%81UDP%E3%80%81KCP%20%E7%AD%89%E5%8D%8F%E8%AE%AE%E4%B8%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%0Aloop%20Write%20Loop%0AServer%20-%3EClient%3A%E5%86%99%E5%85%A5%E6%95%B0%E6%8D%AE%E5%8C%85%0Aabox%20left%20of%20Server%3A%20%E6%95%B0%E6%8D%AE%E5%8C%85%E5%B0%86%E8%A2%AB%E5%86%99%E5%85%A5%E5%AF%B9%E5%BA%94%E8%BF%9E%E6%8E%A5%E7%9A%84%E6%97%A0%E7%95%8C%E7%BC%93%E5%86%B2%E5%8C%BA%E5%86%85%E7%AD%89%E5%BE%85%E5%8F%91%E9%80%81%20%EF%BC%8C%E5%86%99%E5%85%A5%5Cn%E7%BC%93%E5%86%B2%E5%8C%BA%E5%90%8E%E9%80%BB%E8%BE%91%E8%A7%86%E4%B8%BA%E5%A4%84%E7%90%86%E5%AE%8C%E6%AF%95%EF%BC%8C%E7%BD%91%E7%BB%9C%20IO%20%E4%B8%8D%E4%BC%9A%E9%98%BB%E5%A1%9E%E5%88%86%E6%B5%81%E6%B8%A0%E9%81%93%0Aend%0AServer%20--%3EShunt%3A%20(SystemMessage)%20OnConnectionOpenedEvent%0AShunt%20--%3E%20Shunt%3A%20%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%0AServer%20--%3EShunt%3A%20(ShuntMessage)%20OnConnectionOpenedAfterEvent%0AShunt%20--%3E%20Shunt%3A%20%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%0A%0Aloop%20Read%20Loop%0AClient-%3EServer%3A%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE%E5%8C%85%0Aabox%20right%20of%20Client%3A%20%E6%95%B0%E6%8D%AE%E5%8C%85%E5%B0%86%E8%A2%AB%E5%8F%91%E9%80%81%E5%88%B0%E8%BF%9E%E6%8E%A5%E5%AF%B9%E5%BA%94%E5%88%86%E6%B5%81%E6%B8%A0%E9%81%93%E7%9A%84%E6%97%A0%E7%95%8C%E7%BC%93%E5%86%B2%E5%8C%BA%E5%86%85%0AServer%20--%3EShunt%3A%20(ShuntMessage)%20OnConnectionReceivePacketEvent%0AShunt%20--%3E%20Shunt%3A%20%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%0AShunt%20--%3E%20Server%3A%20%E5%9B%9E%E5%A4%8D%E6%B6%88%E6%81%AF%0AServer%20--%3E%20Server%3A%20%E5%86%99%E5%85%A5%20Write%20Loop%0Aend%0A%0AClient%20%3C-%3EServer%3A%20%E6%96%AD%E5%BC%80%E6%88%96%E5%85%B3%E9%97%AD%E8%BF%9E%E6%8E%A5%0AServer%20--%3EShunt%3A%20(SystemMessage)%20OnConnectionClosedEvent%0AShunt%20--%3E%20Shunt%3A%20%E6%B6%88%E6%81%AF%E5%A4%84%E7%90%86%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="851" height="1108"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="12pt" font-style="normal" font-weight="normal" text-decoration="normal" x="378.3580270540782" y="16.96348035" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">This is a title</text></g><g><g><path fill="lightgreen" stroke="black" paint-order="fill stroke markers" d=" M 376.97687763359374 57.67583319 L 804.1308132230744 57.67583319 L 804.1308132230744 1102.4565879465001 L 376.97687763359374 1102.4565879465001 L 376.97687763359374 57.67583319" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="549.2359972227677" y="73.50841485" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Minotaur Server</text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 50.89044105 115.18203157650001 L 50.89044105 1102.4565879465001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 115.18203157650001 L 411.0919905224375 1102.4565879465001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 115.18203157650001 L 771.2935399948751 1102.4565879465001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="8.699220692307692,3.7696623000000002"/></g><g><g><path fill="lightgreen" stroke="black" paint-order="fill stroke markers" d=" M 57.336563583 67.3450169895 A 6.446122533 6.446122533 0 1 1 57.336560359939 67.33857086804134 M 50.89044105 73.7911395225 L 50.89044105 87.5881035405 M 42.747970482 78.76709375850001 L 59.032911618 78.76709375850001 M 50.89044105 87.5881035405 L 42.747970482 100.4803486065 M 50.89044105 87.5881035405 L 59.032911618 100.4803486065" stroke-miterlimit="10" stroke-width="1.9225277730000003" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="36.19392310566406" y="111.78933550650001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 382.63137108359376 84.6477669465 L 439.5526099612813 84.6477669465 L 439.5526099612813 115.18203157650001 L 382.63137108359376 115.18203157650001 L 382.63137108359376 84.6477669465 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="394.9016218700938" y="103.8730446765" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Server</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 744.1107602166759 84.6477669465 L 798.4763197730744 84.6477669465 L 798.4763197730744 115.18203157650001 L 744.1107602166759 115.18203157650001 L 744.1107602166759 84.6477669465 Z" stroke-miterlimit="10" stroke-width="1.8094379040000002" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="756.3810110031759" y="103.8730446765" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Shunt</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 179.07780756150004 L 765.6390465448751 179.07780756150004 M 509.63222656182825 137.80000537650002 L 755.460958334875 137.80000537650002 L 765.6390465448751 179.07780756150004 L 755.460958334875 220.35560974650002 L 509.63222656182825 220.35560974650002 L 499.45413835182825 179.07780756150004 L 509.63222656182825 137.80000537650002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.2867200118283" y="153.63258703650004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">System 消息将全局单线程执行，Shunt 消息将会</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.2867200118283" y="164.94157393650005" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">在连接当前所在分流渠道内执行。相同分流渠道的</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.2867200118283" y="176.25056083650006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">消息将串行处理，不同分流渠道消息并行处理。</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.2867200118283" y="187.55954773650006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.2867200118283" y="198.86853463650007" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">连接可根据业务场景灵活的通过 srv.UseShunt 来</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="515.2867200118283" y="210.17752153650008" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">切换当前所处的分流渠道</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 295.56037263150006 L 765.6390465448751 295.56037263150006 M 475.75765380792205 237.31909009650002 L 755.460958334875 237.31909009650002 L 765.6390465448751 295.56037263150006 L 755.460958334875 353.80165516650004 L 475.75765380792205 353.80165516650004 L 465.57956559792206 295.56037263150006 L 475.75765380792205 237.31909009650002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="253.15167175650004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">异步消息</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="264.4606586565" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="275.7696455565" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(SystemMessage) srv.PushAsyncMessage</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="287.0786324565" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(ShuntMessage) srv.PushShuntAsyncMessage</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="298.38761935649995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(SystemMessage) srv.PushUniqueAsyncMessage</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="309.69660625649993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(ShuntMessage) srv.PushUniqueShuntAsyncMessage</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="321.0055931564999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="332.3145800564999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> Unique 消息将会在上一个相同消息未执行完毕</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="481.412147257922" y="343.6235669564999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">的情况下忽略后续消息</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="83.02664669442188" y="380.94322372650004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">通过 WebSocket、TCP、UDP、KCP 等协议与服务器建立连接</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 50.89044105 385.4668184865 L 401.78092464143754 385.4668184865" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(411.0919905224375,385.4668184865) translate(-411.0919905224375,-385.4668184865)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 401.6678347724375 380.75474061150004 L 411.0919905224375 385.4668184865 L 401.6678347724375 390.1788963615 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="204.34124477791798" y="443.1426516765" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">写入数据包</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 447.6662464365 L 60.201506931 447.6662464365" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(50.89044105,447.6662464365) translate(-50.89044105,-447.6662464365)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 60.314596800000004 442.9541685615 L 50.89044105 447.6662464365 L 60.314596800000004 452.37832431149997 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 483.28955517149996 L 405.4374970724375 483.28955517149996 M 114.29643026321882 464.6297267865 L 395.25940886243757 464.6297267865 L 405.43749707243757 483.28955517149996 L 395.25940886243757 501.9493835565 L 114.29643026321882 501.9493835565 L 104.11834205321883 483.28955517149996 L 114.29643026321882 464.6297267865" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.9509237132188" y="480.46230844649995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">数据包将被写入对应连接的无界缓冲区内等待发送 ，写入</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="119.9509237132188" y="491.7712953464999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">缓冲区后逻辑视为处理完毕，网络 IO 不会阻塞分流渠道</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="473.91467382799226" y="546.0544324665001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(SystemMessage) OnConnectionOpenedEvent</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 550.5780272265 L 761.9824741138751 550.5780272265" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,550.5780272265) translate(-771.2935399948751,-550.5780272265)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 761.8693842448752 545.8659493515 L 771.2935399948751 550.5780272265 L 761.8693842448752 555.2901051015 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.3721891948751" y="577.7195957865001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">消息处理</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 582.2431905465 L 816.5294875948751 582.2431905465 L 816.5294875948751 596.9448735165 L 780.6046058758751 596.9448735165" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,596.9448735165) translate(-771.2935399948751,-596.9448735165)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 780.7176957448751 592.2327956415 L 771.2935399948751 596.9448735165 L 780.7176957448751 601.6569513915 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="464.490899108754" y="624.0864420765001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(ShuntMessage) OnConnectionOpenedAfterEvent</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 628.6100368365001 L 761.9824741138751 628.6100368365001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,628.6100368365001) translate(-771.2935399948751,-628.6100368365001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 761.8693842448752 623.8979589615001 L 771.2935399948751 628.6100368365001 L 761.8693842448752 633.3221147115 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.3721891948751" y="655.7516053965002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">消息处理</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 660.2752001565001 L 816.5294875948751 660.2752001565001 L 816.5294875948751 674.9768831265001 L 780.6046058758751 674.9768831265001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,674.9768831265001) translate(-771.2935399948751,-674.9768831265001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 780.7176957448751 670.2648052515001 L 771.2935399948751 674.9768831265001 L 780.7176957448751 679.6889610015 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="204.34124477791798" y="732.6527163165002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">发送数据包</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 50.89044105 737.1763110765002 L 401.78092464143754 737.1763110765002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(411.0919905224375,737.1763110765002) translate(-411.0919905224375,-737.1763110765002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 401.6678347724375 732.4642332015002 L 411.0919905224375 737.1763110765002 L 401.6678347724375 741.8883889515001 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 50.89044105 767.1451263615002 L 56.5449345 767.1451263615002 M 66.72302271 754.1397914265001 L 323.2117428863672 754.1397914265001 L 333.3898310963672 767.1451263615002 L 323.2117428863672 780.1504612965001 L 66.72302271 780.1504612965001 L 56.5449345 767.1451263615002 L 66.72302271 754.1397914265001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="72.37751615999997" y="769.9723730865002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">数据包将被发送到连接对应分流渠道的无界缓冲区内</text></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="461.94560339342195" y="807.2920298565002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(ShuntMessage) OnConnectionReceivePacketEvent</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 811.8156246165001 L 761.9824741138751 811.8156246165001" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,811.8156246165001) translate(-771.2935399948751,-811.8156246165001)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 761.8693842448752 807.1035467415002 L 771.2935399948751 811.8156246165001 L 761.8693842448752 816.5277024915001 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.3721891948751" y="838.9571931765003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">消息处理</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 843.4807879365002 L 816.5294875948751 843.4807879365002 L 816.5294875948751 858.1824709065002 L 780.6046058758751 858.1824709065002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,858.1824709065002) translate(-771.2935399948751,-858.1824709065002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 780.7176957448751 853.4703930315002 L 771.2935399948751 858.1824709065002 L 780.7176957448751 862.8945487815001 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="569.8727884520157" y="885.3240394665003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">回复消息</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 889.8476342265002 L 420.4030564034375 889.8476342265002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(411.0919905224375,889.8476342265002) translate(-411.0919905224375,-889.8476342265002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 420.51614627243754 885.1355563515002 L 411.0919905224375 889.8476342265002 L 420.51614627243754 894.5597121015002 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="426.17063972243756" y="916.9892027865003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">写入 Write Loop</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 921.5127975465002 L 456.32793812243756 921.5127975465002 L 456.32793812243756 936.2144805165002 L 420.4030564034375 936.2144805165002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(411.0919905224375,936.2144805165002) translate(-411.0919905224375,-936.2144805165002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 420.51614627243754 931.5024026415002 L 411.0919905224375 936.2144805165002 L 420.51614627243754 940.9265583915002 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="193.68125637459767" y="980.3195294265004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">断开或关闭连接</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 60.201506931 984.8431241865003 L 401.78092464143754 984.8431241865003" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray=""/><g transform="translate(411.0919905224375,984.8431241865003) translate(-411.0919905224375,-984.8431241865003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 401.6678347724375 980.1310463115003 L 411.0919905224375 984.8431241865003 L 401.6678347724375 989.5552020615003 Z"/><g transform="translate(50.89044105,984.8431241865003) translate(-50.89044105,-984.8431241865003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 60.314596800000004 980.1310463115003 L 50.89044105 984.8431241865003 L 60.314596800000004 989.5552020615003 Z"/></g></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="477.131409667836" y="1011.9846927465004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(SystemMessage) OnConnectionClosedEvent</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 411.0919905224375 1016.5082875065003 L 761.9824741138751 1016.5082875065003" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,1016.5082875065003) translate(-771.2935399948751,-1016.5082875065003)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 761.8693842448752 1011.7962096315003 L 771.2935399948751 1016.5082875065003 L 761.8693842448752 1021.2203653815003 Z"/></g></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="8pt" font-style="normal" font-weight="normal" text-decoration="normal" x="786.3721891948751" y="1043.6498560665002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">消息处理</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 771.2935399948751 1048.1734508265001 L 816.5294875948751 1048.1734508265001 L 816.5294875948751 1062.8751337965002 L 780.6046058758751 1062.8751337965002" stroke-miterlimit="10" stroke-width="0.9424155750000001" stroke-dasharray="4.52359476"/><g transform="translate(771.2935399948751,1062.8751337965002) translate(-771.2935399948751,-1062.8751337965002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 780.7176957448751 1058.1630559215002 L 771.2935399948751 1062.8751337965002 L 780.7176957448751 1067.5872116715002 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 11.3089869 402.4302988365 L 450.67344467243754 402.4302988365 L 450.67344467243754 518.9128639065 L 11.3089869 518.9128639065 L 11.3089869 402.4302988365 Z" stroke-miterlimit="10" stroke-width="1.6155695571428572" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 11.3089869 402.4302988365 L 11.3089869 416.0010831165 L 53.34434961601563 416.0010831165 L 60.129741756015626 409.2156909765 L 60.129741756015626 402.4302988365 L 11.3089869 402.4302988365" stroke-miterlimit="10" stroke-width="1.6155695571428572" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="6.4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="22.6179738" y="411.47748835650003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="69.74238062101563" y="403.3350177885" width="57.946315454765625" height="11.761346376000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="6.4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="71.43872865601563" y="411.47748835650003" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Write Loop]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 11.3089869 691.9403634765001 L 834.6666362581564 691.9403634765001 L 834.6666362581564 953.1779608665003 L 11.3089869 953.1779608665003 L 11.3089869 691.9403634765001 Z" stroke-miterlimit="10" stroke-width="1.6155695571428572" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 11.3089869 691.9403634765001 L 11.3089869 705.5111477565001 L 53.34434961601563 705.5111477565001 L 60.129741756015626 698.7257556165001 L 60.129741756015626 691.9403634765001 L 11.3089869 691.9403634765001" stroke-miterlimit="10" stroke-width="1.6155695571428572" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="6.4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="22.6179738" y="700.9875529965001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><g><rect fill="white" stroke="none" x="69.74238062101563" y="692.8450824285001" width="55.42229812078125" height="11.761346376000002"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="6.4pt" font-style="normal" font-weight="bold" text-decoration="normal" x="71.43872865601563" y="700.9875529965001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[Read Loop]</text></g></g><g/><g/><g/></g></svg>